<!DOCTYPE html>
<html lang="en-US" style="background-color:black;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map</title>
        <meta name="description" content="Sample website showcasing modern web design, responsive layouts, and SEO-friendly structure. Explore a clean, fast, and mobile-ready demo site.">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
      * {
        font-family: 'Inter', sans-serif;
      }

      body {
        background-color: black;
      }

      .map-container {
        max-width: 1200px;
        margin: 30px auto;
        padding: 20px;
      }

      .map-header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
      }

      .map-header h2 {
        font-size: 32px;
        color: #129db3;
        margin-bottom: 10px;
      }

      .map-header p {
        color: #aaa;
        font-size: 14px;
      }

      .map-controls {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .map-btn {
        padding: 10px 20px;
        background-color: #129db3;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .map-btn:hover {
        background-color: #0d7a8a;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(18, 157, 179, 0.3);
      }

      .map-btn.secondary {
        background-color: #2b2b2b;
        color: #129db3;
        border: 2px solid #129db3;
      }

      .map-btn.secondary:hover {
        background-color: #129db3;
        color: white;
      }

      #map {
        width: 100%;
        height: 700px;
        margin: 20px 0;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(18, 157, 179, 0.25);
        border: 2px solid #129db3;
      }

      .map-info {
        background: linear-gradient(135deg, #2b2b2b 0%, #1a1a1a 100%);
        border: 2px solid #129db3;
        border-radius: 12px;
        padding: 25px;
        margin: 20px 0;
        color: white;
        text-align: center;
      }

      .map-info h3 {
        color: #129db3;
        margin-top: 0;
        font-size: 18px;
      }

      .location-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .location-item {
        background-color: #333;
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid #129db3;
      }

      .location-item label {
        display: block;
        color: #999;
        font-size: 12px;
        margin-bottom: 5px;
      }

      .location-item .value {
        color: #129db3;
        font-weight: bold;
        font-size: 16px;
      }

      .leaflet-popup-content {
        font-family: 'Inter', sans-serif !important;
        background-color: #2b2b2b !important;
        color: white !important;
        border-radius: 8px;
      }

      .leaflet-popup-content-wrapper {
        background-color: #2b2b2b !important;
        border: 2px solid #129db3 !important;
        border-radius: 8px !important;
      }

      .leaflet-popup-tip {
        background-color: #2b2b2b !important;
        border: 2px solid #129db3 !important;
      }

      .leaflet-container {
        background-color: #1a1a1a;
      }

      .leaflet-control-attribution {
        background-color: rgba(0, 0, 0, 0.7) !important;
        color: #999 !important;
        border-radius: 4px;
      }

      .leaflet-control {
        background-color: #2b2b2b !important;
        border: 2px solid #129db3 !important;
        border-radius: 8px !important;
      }

      .leaflet-control-zoom-in,
      .leaflet-control-zoom-out {
        color: #129db3 !important;
        background-color: #2b2b2b !important;
        border-radius: 4px !important;
        font-weight: bold !important;
      }

      .leaflet-control-zoom-in:hover,
      .leaflet-control-zoom-out:hover {
        background-color: #129db3 !important;
        color: white !important;
      }

      .search-container {
        position: relative;
        max-width: 400px;
        margin: 0 auto 20px;
      }

      .search-input {
        width: 100%;
        padding: 12px 40px 12px 15px;
        background-color: #2b2b2b;
        color: white;
        border: 2px solid #129db3;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s;
      }

      .search-input:focus {
        outline: none;
        box-shadow: 0 0 15px rgba(18, 157, 179, 0.5);
      }

      .search-input::placeholder {
        color: #999;
      }

      .marker-icon {
        width: 30px !important;
        height: 30px !important;
        margin-left: -15px !important;
        margin-top: -30px !important;
        background: linear-gradient(135deg, #129db3, #0d7a8a);
        border-radius: 50%;
        border: 3px solid white;
        display: flex !important;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
      }

      .legend {
        background-color: #2b2b2b !important;
        border: 2px solid #129db3 !important;
        border-radius: 8px !important;
        padding: 15px !important;
      }

      .legend h4 {
        color: #129db3 !important;
        margin-top: 0 !important;
      }

      .legend i {
        width: 18px;
        height: 18px;
        float: left;
        margin-right: 10px;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .map-header h2 {
          font-size: 24px;
        }

        #map {
          height: 500px;
        }

        .map-controls {
          flex-direction: column;
        }

        .map-btn {
          width: 100%;
          justify-content: center;
        }

        .location-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
<script>
  window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
</script>
<script defer src="/_vercel/insights/script.js"></script>  
</head>
  <body>
   <header class="main-header">
         <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
         <nav class="nav-links">
           <a class="pagelink" href="index.html">Home</a>
           <a class="pagelink" href="page1.html">About Us</a>
           <a class="pagelink" href="page2.html">Download</a>
           <a class="pagelink" href="page3.html">Calculator</a>
           <a class="pagelink" href="page4.html">Game</a>
           <a class="pagelink" href="page5.html">CMD Line</a>
           <a class="pagelink" href="page6.html">Map</a>
           <a class="pagelink" href="page7.html">AI</a>
           <a class="pagelink" href="page8.html">Notes</a>
           <a class="pagelink" href="page9.html">Portfolio</a>
         </nav>
         <span id="time-display" class="time-display"></span>
     </header>
     <div class="image-container">
       <img src="photo-1461749280684-dccba630e2f6.avif" fetchpriority="high" alt="picture of code">  
       <h1>Interactive Map</h1>
     </div>

     <div class="map-container">
       <div class="map-header">
         <h2>Explore Your Location</h2>
         <p>Interactive map showing your current location with detailed information</p>
       </div>

       <div class="map-controls">
         <button class="map-btn" onclick="centerOnUser()">
           <i class="fas fa-location-crosshairs"></i> Find Me
         </button>
         <button class="map-btn secondary" onclick="toggleDarkMode()">
           <i class="fas fa-moon"></i> Toggle Theme
         </button>
         <button class="map-btn secondary" onclick="addRandomMarker()">
           <i class="fas fa-map-pin"></i> Add Marker
         </button>
       </div>

       <div class="search-container">
         <input type="text" class="search-input" id="location-search" placeholder="Search location or coordinates...">
       </div>

       <div class="map-info">
         <h3>üìç Location Information</h3>
         <div class="location-grid">
           <div class="location-item">
             <label>Latitude</label>
             <div class="value" id="latitude">--</div>
           </div>
           <div class="location-item">
             <label>Longitude</label>
             <div class="value" id="longitude">--</div>
           </div>
           <div class="location-item">
             <label>Zoom Level</label>
             <div class="value" id="zoom-level">13</div>
           </div>
           <div class="location-item">
             <label>Status</label>
             <div class="value" id="status">Loading...</div>
           </div>
         </div>
       </div>

       <!-- Map Container -->
       <div id="map"></div>
     </div>

     <footer class="footertext">
        <p>Copyright 2026</p>
        <p>Contact us at <a class="footerlink" href="mailto:coltonblake125@gmail.com">Email Us</a></p>
         <p>Made by Colton Blake</p>
     </footer>
     <!-- Leaflet JS -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
     <script src="script.js"></script>
     <script>
       // Initialize map with geolocation
       let map;
       let userMarker;
       let markers = [];
       let isDarkMode = true;

       function initMap(lat, lon, status = 'Your current location') {
         // Create map
         if (map) {
           map.remove();
         }

         map = L.map('map').setView([lat, lon], 13);

         // Add dark-themed CartoDB tiles
         L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
           attribution: '&copy; OpenStreetMap contributors, &copy; CartoDB',
           maxZoom: 19,
           crossOrigin: true
         }).addTo(map);

         // Remove old user marker if exists
         if (userMarker) {
           map.removeLayer(userMarker);
         }

         // Add marker at current location
         userMarker = L.circleMarker([lat, lon], {
           radius: 8,
           fillColor: '#129db3',
           color: '#fff',
           weight: 3,
           opacity: 1,
           fillOpacity: 0.8
         }).addTo(map).bindPopup(
           `<b style="color: #129db3;">üìç ${status}</b><br>Lat: ${lat.toFixed(4)}<br>Lon: ${lon.toFixed(4)}`
         ).openPopup();

         // Update info display
         updateLocationInfo(lat, lon, status);

         // Add zoom level listener
         map.on('zoomend', function() {
           document.getElementById('zoom-level').textContent = map.getZoom();
         });

         // Add click to add marker functionality
         map.on('click', function(e) {
           addMarkerAtLocation(e.latlng.lat, e.latlng.lng, 'Custom Marker');
         });

         // Add some demo markers
         addDemoMarkers();
       }

       function updateLocationInfo(lat, lon, status) {
         document.getElementById('latitude').textContent = lat.toFixed(4);
         document.getElementById('longitude').textContent = lon.toFixed(4);
         document.getElementById('zoom-level').textContent = map ? map.getZoom() : 13;
         document.getElementById('status').textContent = status;
       }

       function addMarkerAtLocation(lat, lon, label) {
         const marker = L.circleMarker([lat, lon], {
           radius: 6,
           fillColor: '#00ff00',
           color: '#fff',
           weight: 2,
           opacity: 1,
           fillOpacity: 0.7
         }).addTo(map).bindPopup(
           `<b style="color: #129db3;">${label}</b><br>Lat: ${lat.toFixed(4)}<br>Lon: ${lon.toFixed(4)}`
         );

         markers.push(marker);
       }

       function addDemoMarkers() {
         // Add some interesting demo locations
         const demoLocations = [
           { lat: 51.5074, lon: -0.1278, name: 'üá¨üáß London' },
           { lat: 48.8566, lon: 2.3522, name: 'üá´üá∑ Paris' },
           { lat: 35.6762, lon: 139.6503, name: 'üáØüáµ Tokyo' }
         ];

         demoLocations.forEach(loc => {
           const marker = L.circleMarker([loc.lat, loc.lon], {
             radius: 6,
             fillColor: '#ff6b6b',
             color: '#fff',
             weight: 2,
             opacity: 1,
             fillOpacity: 0.7
           }).addTo(map).bindPopup(`<b style="color: #129db3;">${loc.name}</b><br>Lat: ${loc.lat.toFixed(4)}<br>Lon: ${loc.lon.toFixed(4)}`);

           markers.push(marker);
         });
       }

       function centerOnUser() {
         if (navigator.geolocation) {
           navigator.geolocation.getCurrentPosition(
             (position) => {
               const lat = position.coords.latitude;
               const lon = position.coords.longitude;
               map.setView([lat, lon], 13);
               initMap(lat, lon, 'Your current location');
             },
             (error) => {
               alert('Unable to get your location: ' + error.message);
             }
           );
         } else {
           alert('Geolocation not supported');
         }
       }

       function toggleDarkMode() {
         // Remove current tile layer
         map.eachLayer((layer) => {
           if (layer instanceof L.TileLayer) {
             map.removeLayer(layer);
           }
         });

         if (isDarkMode) {
           // Switch to light mode
           L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
             attribution: '&copy; OpenStreetMap contributors, &copy; CartoDB',
             maxZoom: 19
           }).addTo(map);
           isDarkMode = false;
         } else {
           // Switch to dark mode
           L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
             attribution: '&copy; OpenStreetMap contributors, &copy; CartoDB',
             maxZoom: 19
           }).addTo(map);
           isDarkMode = true;
         }
       }

       function addRandomMarker() {
         // Add marker at random location nearby (within ~100km)
         const baseLat = map.getCenter().lat;
         const baseLon = map.getCenter().lng;
         const randomLat = baseLat + (Math.random() - 0.5) * 2;
         const randomLon = baseLon + (Math.random() - 0.5) * 2;

         addMarkerAtLocation(randomLat, randomLon, `üìå Random Marker (${markers.length + 1})`);
         alert(`Marker added at ${randomLat.toFixed(4)}, ${randomLon.toFixed(4)}`);
       }

       // Get user's location
       if (navigator.geolocation) {
         navigator.geolocation.getCurrentPosition(
           (position) => {
             const lat = position.coords.latitude;
             const lon = position.coords.longitude;
             initMap(lat, lon, '‚úì Your current location');
           },
           (error) => {
             // Default to New York if geolocation fails
             console.log('Geolocation failed, using default location');
             initMap(40.7128, -74.0060, '‚ö†Ô∏è Default location (New York)');
           }
         );
       } else {
         // Fallback to New York
         initMap(40.7128, -74.0060, '‚ö†Ô∏è Geolocation not supported');
       }

       // Search input functionality
       document.getElementById('location-search').addEventListener('keypress', function(e) {
         if (e.key === 'Enter') {
           const searchTerm = this.value.trim();
           
           // Try to parse as coordinates
           const coordMatch = searchTerm.match(/^([-\d.]+),\s*([-\d.]+)$/);
           if (coordMatch) {
             const lat = parseFloat(coordMatch[1]);
             const lon = parseFloat(coordMatch[2]);
             if (!isNaN(lat) && !isNaN(lon)) {
               map.setView([lat, lon], 13);
               addMarkerAtLocation(lat, lon, 'Searched Location');
               updateLocationInfo(lat, lon, 'Searched location');
               return;
             }
           }
           
           alert('Please enter coordinates in format: "40.7128, -74.0060"');
         }
       });
     </script>
  </body>
</html>